CREATE TABLE PUBLIC.PERSON
(
    ID         BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL PRIMARY KEY,
    MIDDLENAME VARCHAR(255),
    NAME       VARCHAR(255),
    PHONE      VARCHAR(255),
    SURNAME    VARCHAR(255)
);

CREATE TABLE PUBLIC.PRIORITY
(
    ID   BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL PRIMARY KEY,
    NAME VARCHAR(255)
);

CREATE TABLE PUBLIC.SPECIALIZATION
(
    ID   BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL PRIMARY KEY,
    NAME VARCHAR(255)
);

CREATE TABLE PUBLIC.DOCTOR
(
    ID                BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL PRIMARY KEY,
    MIDDLENAME        VARCHAR(255),
    NAME              VARCHAR(255),
    SURNAME           VARCHAR(255),
    SPECIALIZATION_ID BIGINT,
    FOREIGN KEY (SPECIALIZATION_ID) REFERENCES PUBLIC.SPECIALIZATION (ID) ON DELETE RESTRICT
);


CREATE TABLE PUBLIC.RECIPE
(
    ID          BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL PRIMARY KEY,
    DATE        DATE,
    DESCRIPTION VARCHAR(255),
    DURATION    VARCHAR(255),
    DOCTOR_ID   BIGINT,
    PERSON_ID   BIGINT,
    PRIORITY_ID BIGINT,
    FOREIGN KEY (DOCTOR_ID) REFERENCES PUBLIC.DOCTOR (ID) ON DELETE RESTRICT,
    FOREIGN KEY (PERSON_ID) REFERENCES PUBLIC.PERSON (ID) ON DELETE RESTRICT,
    FOREIGN KEY (PRIORITY_ID) REFERENCES PUBLIC.PRIORITY (ID) ON DELETE RESTRICT
)

